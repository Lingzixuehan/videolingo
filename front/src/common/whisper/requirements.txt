# Videolingo 项目主依赖文件
# 用于 Whisper 字幕处理模块及相关功能

# ============================================================================
# 核心依赖 - 字幕处理
# ============================================================================

# 字幕解析和处理 (支持 SRT, ASS, SSA, SUB, VTT 等多种格式)
pysubs2>=1.8.0

# 音频处理和语音识别
openai-whisper>=20250625
ffmpeg-python>=0.2.0

# ============================================================================
# 深度学习框架 - PyTorch (Whisper 依赖)
# ============================================================================

# 根据系统选择相应版本:
# CPU 版本:
# torch>=2.0.0
# torchvision>=0.15.0
# torchaudio>=2.0.0

# 或 GPU 版本 (NVIDIA CUDA 12.1):
# torch>=2.0.0
# torchvision>=0.15.0
# torchaudio>=2.0.0
# --index-url https://download.pytorch.org/whl/cu121

# 注: 根据系统环境自行选择，也可以独立安装
# torch (由于版本复杂性，建议单独处理)

# ============================================================================
# 后端依赖
# ============================================================================

# Web 框架
fastapi>=0.115
uvicorn[standard]>=0.29

# 数据验证
pydantic>=2.5
pydantic-settings>=2.3

# 数据库
sqlalchemy>=2.0.0
databases[sqlite]>=0.8.0

# ============================================================================
# API 和网络依赖
# ============================================================================

# HTTP 请求库 (用于翻译 API 调用)
requests>=2.31.0

# ============================================================================
# 数据处理依赖
# ============================================================================

# 数值计算
numpy>=1.24.0

# 数据帧处理 (可选)
# pandas>=2.0.0

# ============================================================================
# 测试依赖
# ============================================================================

# 单元测试框架
pytest>=7.4.0

# pytest 插件
pytest-cov>=4.1.0
pytest-asyncio>=0.21.0

# ============================================================================
# 代码质量工具
# ============================================================================

# 代码格式化
black>=23.0.0

# 代码检查
pylint>=2.17.0
flake8>=6.0.0

# 静态类型检查
mypy>=1.0.0

# 导入排序
isort>=5.12.0

# ============================================================================
# 其他工具依赖
# ============================================================================

# 日志和监控
python-dotenv>=1.0.0

# 进度条显示
tqdm>=4.65.0

# ============================================================================
# 密码学和安全 (后端需要)
# ============================================================================

python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4
cryptography>=41.0.0
bcrypt>=5.0.0

# ============================================================================
# 数据库驱动 (可选)
# ============================================================================

# MySQL 驱动
PyMySQL>=1.1.0

# ============================================================================
# 正则表达式优化 (可选)
# ============================================================================

regex>=2023.0.0

# ============================================================================
# 注释
# ============================================================================
#
# 安装说明:
#
# 1. 基础安装 (CPU 版本):
#    pip install -r requirements.txt
#
# 2. GPU 支持 (需要 NVIDIA CUDA):
#    # 首先安装 PyTorch GPU 版本
#    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
#    # 然后安装其他依赖
#    pip install -r requirements.txt
#
# 3. 开发依赖 (包含测试和代码质量工具):
#    pip install -r requirements.txt
#    # 开发工具已包含在此文件中
#
# 版本说明:
# - 所有版本使用 >= 以允许小版本更新
# - 主版本号保持兼容
# - 依赖版本基于 2024 年稳定版本
